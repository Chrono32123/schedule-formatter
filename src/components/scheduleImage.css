/* -------------------------------------------------------------
   1080×1350 – 1–7 EVENTS, ALWAYS FIT, VERTICALLY CENTERED
   ------------------------------------------------------------- */
.schedule-image-root {
  --target-width: 1080px;
  --target-height: 1350px;
  --event-count: 1;
  --fit-scale: 1;
  width: var(--target-width) !important;
  height: var(--target-height) !important;
  overflow: hidden;
  transform: scale(var(--scale, 1));
  transform-origin: top left;
}

.schedule-image-wrapper {
  /* CRITICAL: Fixed dimensions that should never change during rendering */
  width: 960px !important;
  height: 1350px !important;
  min-width: 960px !important;
  max-width: 960px !important;
  /* Header should remain visually consistent — use fixed padding so the header
    is positioned from the top consistently. Add extra bottom padding so
    the events region has breathing room and the last event isn't cut off.
    Event content will scale via --fit-scale where needed. The overall
    canvas is scaled by --scale. */
  padding: 50px 50px 80px; /* top, sides, bottom */
  background: #1a1a1a;
  color: #fff;
  font-family: 'Roboto', sans-serif;
  border-radius: 20px;
  box-shadow: 0 16px 40px rgba(0,0,0,.7);
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
}

/* Centering */
.schedule-image-centering {
  flex: 1;
  display: flex;
  flex-direction: column;
  /* Keep header at the top; only events will scale and occupy available space. */
  justify-content: flex-start;
  gap: calc(20px * var(--fit-scale));
}

/* Header */
.schedule-image-header {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 20px;
  flex-shrink: 0;
}
.schedule-image-avatar {
  /* Fixed header sizes (will be transformed by --scale but not by --fit-scale) */
  width: 110px;
  height: 110px;
  border-radius: 50%;
  margin-right: 16px;
  border: 5px solid #9146FF;
}
.schedule-image-header-text {
  display: flex;
  flex-direction: column;
  align-items: flex-start;
}
.schedule-image-title {
  font-size: 56px;
  font-weight: 800;
  margin: 0;
  line-height: 1.1;
  text-align: left;
}
.schedule-image-subtitle {
  font-size: 32px;
  opacity: .9;
  margin-top: 8px;
  text-align: left;
}

/* Events */
.schedule-image-events {
  display: flex;
  flex-direction: column;
  gap: max(calc(8px * var(--fit-scale)), 4px);
  /* Allow the events area to take remaining space so vertical centering
     can work when the 'center-events' class is applied. */
  flex: 1;
  align-items: center; /* horizontally center event containers */
  justify-content: flex-start; /* default: start */
  /* Allow small upward nudge when content slightly overflows to avoid
     the bottom-most event being cut off. The variable is set from TSX. */
  --events-nudge: 0px;
  transform: translateY(calc(var(--events-nudge) * -1));
}

.schedule-image-events.center-events {
  justify-content: center; /* vertically center when spare space */
}
.schedule-image-events .event-container {
  padding: calc(12px * var(--fit-scale)) 0;
  /* Fix event width so all events line up. Use a fixed width (not max-width)
     so that events with/without images occupy the same horizontal space. */
  width: 750px;
  max-width: 750px;
  min-width: 750px;
  border-bottom: 1px solid #555;
  align-self: center;
  /* Prevent text wrapping due to screen size constraints */
  overflow: visible;
}
.schedule-image-events .event {
  display: flex;
  gap: max(calc(8px * var(--fit-scale)), 6px);
  align-items: flex-start;
}
.schedule-image-events .event-details {
  flex: 1;
  min-width: 0; /* allow flex children to shrink and wrap text correctly */
  flex-basis: auto;
  display: flex;
  flex-direction: column;
  gap: calc(5px * var(--fit-scale));
}
.schedule-image-events .event-title {
  font-size: calc(44px * var(--fit-scale));
  max-width: 100%;
  /* Ensure long titles wrap instead of expanding the container */
  overflow-wrap: break-word;
  word-break: break-word;
  white-space: normal;
  margin: 0 0 calc(10px * var(--fit-scale));
  line-height: 1.2;
  width: 100%;
}
.schedule-image-events .event-category,
.schedule-image-events .event-start {
  font-size: calc(32px * var(--fit-scale));
  margin: calc(5px * var(--fit-scale)) 0;
  overflow-wrap: break-word;
  word-break: break-word;
  line-height: 1.3;
  width: 100%;
}
.schedule-image-events .event-image {
  width: calc(130px * var(--fit-scale));
  height: calc(182px * var(--fit-scale));
  border-radius: calc(7px * var(--fit-scale));
  object-fit: cover;
  flex-shrink: 0;
  box-shadow: 0 calc(3px * var(--fit-scale)) calc(10px * var(--fit-scale)) rgba(0,0,0,.4);
}

/* Footer */
.schedule-image-footer {
  text-align: center;
  font-size: calc(12px * var(--fit-scale));
  opacity: .75;
  flex-shrink: 0;
}

/* Light Mode */
.schedule-image-root.light-mode .schedule-image-wrapper {
  background: #f5f5f5; /* off-white */
  color: #2a2a2a; /* dark gray */
}

.schedule-image-root.light-mode .schedule-image-title,
.schedule-image-root.light-mode .schedule-image-subtitle,
.schedule-image-root.light-mode .event-title,
.schedule-image-root.light-mode .event-category,
.schedule-image-root.light-mode .event-start,
.schedule-image-root.light-mode .event-end,
.schedule-image-root.light-mode .event-duration,
.schedule-image-root.light-mode .schedule-image-footer {
  color: #2a2a2a; /* dark gray */
}

.schedule-image-root.light-mode .event-container {
  border-bottom-color: #d0d0d0; /* lighter border */
}